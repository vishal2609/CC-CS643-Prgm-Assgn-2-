## Use an OpenJDK base image
FROM bitnami/spark:3.3.0
#Set the working directory
WORKDIR /app
#Copy the jar file into the container
COPY target/wine-ml-spark-1.0-SNAPSHOT.jar /app/app.jar
# Set entrypoint to run Spark job
ENTRYPOINT ["/opt/bitnami/spark/bin/spark-submit", "--class", "com.wine.WinePredictApp", "--master", "yarn", "/app/app.jar"]